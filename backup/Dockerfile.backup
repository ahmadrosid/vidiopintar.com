FROM postgres:17-alpine

# Install bash for our scripts
RUN apk add --no-cache bash

# Create app directory
WORKDIR /app

# Copy scripts
COPY backup/backup-db.sh /app/backup-db.sh
COPY backup/restore-db.sh /app/restore-db.sh

# Make scripts executable
RUN chmod +x /app/backup-db.sh /app/restore-db.sh

# Create backup directories
RUN mkdir -p /app/backup/data

# Default command
CMD ["/bin/bash"]